<%- include('adminViewHeader')-%>

<main class="table" id="customers_table">
    <section class="table__header">
        <h1>Joined Users</h1>
        <div class="input-group">
            <input type="search" id="searchInput" placeholder="Search Data...">
            <img src="https://www.shareicon.net/download/2015/12/08/684185_search.svg" alt="">
        </div>
        <button class="add-users"><a href="/admin/new-user" style="text-decoration: none; color: white;">Add Users</a></button>
        <div class="export__file">
            <label for="export-file" class="export__file-btn" title="Export File"></label>
            <input type="checkbox" id="export-file">
        </div>
    </section>
    <section class="table__body">
        <table>
            <thead>
                <tr>
                    <th> First Name</th>
                    <th> Last Name</th>
                    <th> Email</th>
                    <th> Joined Date</th>
                    <th> Status</th>
                    <th> Action</th>
                </tr>
            </thead>
            <tbody>
                <%
                    if(users.length > 0){
                        for(let i = 0; i < users.length; i++){
                            %>
                            <tr>
                                <td><%= users[i].FirstName %></td>
                                <td><%= users[i].LastName %></td>
                                <td><%= users[i].email %></td>
                                <td><%= users[i].registrationDate %></td>
                                <td><%
                                    if(users[i].is_verified == 0){
                                        %>
                                        <p class="status cancelled">Not Verified</p>
                                        <%
                                    }else{
                                        %>
                                        <p class="status delivered">Verified</p>
                                        <%
                                    }
                                    %>
                                </td>
                                <td>
                                    <button class="edit-users"><a href="/admin/edit-user?id=<%= users[i]._id %>" style="text-decoration: none; color: white;">Edit User</a></button>
                                    <button class="delete-users"><a href="/admin/delete-user?id=<%= users[i]._id %>" style="text-decoration: none; color: rgb(254, 224, 224);">Delete User</a></button>
                                </td>
                            </tr>
                            <%
                        }
                    }
                    else{
                       %>
                       <tr>
                          <td colspan="5">Users Not Found</td>
                       </tr>
                       <%
                    }
                %>
            </tbody>
        </table>
    </section>
</main>
<%- include('adminViewFooter')-%>